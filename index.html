<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Jesus Christ Redeems Global Ministries | Service Timer & Calendar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<meta name="theme-color" content="#1f3c88">

<style>
body { font-family: "Segoe UI", Arial, sans-serif; background-color: #f4f6f8; margin:0; color:#333; }
header { background: linear-gradient(90deg,#1f3c88,#2c3e50); color:#fff; padding:30px 20px; text-align:center; }
button { padding:10px 18px; border:none; background:#1f3c88; color:#fff; cursor:pointer; border-radius:4px; margin:6px; }
button:hover {opacity:0.9;}
.whatsapp {background:#25D366;}
.games {background:#ff9800;}
.meditation {background:#8e44ad;}
.youtube {background:#ff0000;}
.container {max-width:1000px; margin:30px auto; background:#fff; padding:30px; box-shadow:0 0 12px rgba(0,0,0,0.1);}
.timer-box {background:#1f3c88; color:#fff; padding:25px; font-size:26px; text-align:center; border-radius:6px; margin-bottom:30px;}
.timer-box span {color:#ffd700; font-weight:bold;}
table {width:100%; border-collapse:collapse; margin-bottom:30px;}
th, td {border:1px solid #ddd; padding:12px;}
th {background:#ecf0f1;}
.current-program {background:#fff3cd !important; font-weight:bold; border-left:6px solid #e67e22;}
.next-program {background:#d1ecf1 !important; font-weight:bold; border-left:6px solid #17a2b8;}
footer {background:#2c3e50; color:#fff; text-align:center; padding:15px;}
.projector header, .projector footer, .projector h2, .projector .service-time, .projector .social-buttons {display:none;}
.projector .timer-box, .projector table {font-size:28px;}
.calendar-table th {background:#1f3c88; color:#fff;}
.hidden-section {display:none; margin-top:30px;}
</style>
</head>

<body>
<header>
<h1>Jesus Christ Redeems Global Ministries</h1>
<p id="serviceDate"></p>
<button onclick="toggleProjector()">Toggle Projector Mode</button>

<div class="social-buttons">
<a href="https://web.facebook.com/pedahzurchurch" target="_blank"><button>üìò Facebook</button></a>
<a href="https://www.youtube.com/@officialjcrgmtv" target="_blank"><button class="youtube">üì∫ YouTube</button></a>
<a href="https://wa.me/260979554970" target="_blank"><button class="whatsapp">üí¨ WhatsApp Office</button></a>
<a href="https://www.biblechallenger.com/" target="_blank"><button class="games">üéÆ Christian Games</button></a>
<a href="https://www.youtube.com/watch?v=785fnki4lsw&list=RD785fnki4lsw&start_radio=1" target="_blank"><button class="meditation">üéµ Prayer & Meditation</button></a>
<button onclick="showMembership()">üìù Membership</button>
<button onclick="showTithes()">üí∞ Tithes & Offerings</button>
<button onclick="showCalendar()">üìÖ Church Calendar</button>
</div>
</header>

<div class="container">
<div class="timer-box" id="timerBox">Loading‚Ä¶</div>

<!-- Membership -->
<div id="membershipContent" class="hidden-section">
<h2>Membership Registration</h2>
<p>Attach a passport-sized photo, enter your details below:</p>
<form id="membershipForm">
<label>Full Name:</label><br><input type="text" id="memberName" required><br>
<label>Phone Number:</label><br><input type="tel" id="memberPhone" required><br>
<label>Residence:</label><br><input type="text" id="memberResidence" required><br>
<label>NRC Number (Optional):</label><br><input type="text" id="memberNRC"><br>
<label>Email:</label><br><input type="email" id="memberEmail" required><br>
<button type="button" onclick="sendMembership()">Send to WhatsApp</button>
</form>
</div>

<!-- Tithes -->
<div id="tithesContent" class="hidden-section">
<h2>Tithes & Offerings</h2>
<p>Send via:</p>
<ul>
<li>Airtel Agent: 0979554970 / 20202857</li>
<li>Direct Deposit: 0971415665</li>
<li>MTN Mobile Money: 0760528887</li>
</ul>
</div>

<!-- Calendar -->
<div id="calendarContent" class="hidden-section">
<h2>Church Calendar 2026</h2>
<table class="calendar-table">
<thead>
<tr><th>Date</th><th>Event</th><th>Program</th><th>Time</th><th>Venue</th></tr>
</thead>
<tbody id="calendarBody">
<tr><td>2026-01-01</td><td>NEW YEAR</td><td>YEARS BLESSINGS</td><td>00:01HRS</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-02-14</td><td>PEDAHZUR SUPPORT TEAM</td><td>Support Meeting</td><td>14HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-03-05</td><td>WOMEN DAY</td><td>Women Sunday</td><td>09:30 ‚Äì 13:30</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-03-12</td><td>YOUTH DAY</td><td>Youth Sunday</td><td>09:30</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-04-14</td><td>GOOD FRIDAY</td><td>PRAYER SUMMIT</td><td>14HRS - 17HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-04-15</td><td>HOLY SATURDAY</td><td>PRAYER SUMMIT</td><td>14HRS - 17HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-04-16</td><td>RESSURECTION SUNDAY</td><td>REDEMPTION SUNDAY</td><td>09:00 ‚Äì 13:30</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-04-17</td><td>EASTER</td><td>PRAYER SUMMIT</td><td>14HRS - 17HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-05-01</td><td>LABOR DAY</td><td>MOUNTAIN PRAYERS</td><td>08:00 ‚Äì 16:00</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-05-25</td><td>AFRICA FREEDOM DAY</td><td>MOUNTAIN PRAYERS</td><td>08:00 ‚Äì 16:00</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-07-03</td><td>HEROS DAY</td><td>MOUNTAIN PRAYER CAMP</td><td>20HRS</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-07-04</td><td>UNITY DAY</td><td>PRAYER CAMP</td><td>04HRS</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-08-07</td><td>FARMERS DAY</td><td>CONGREGATIONAL THANKS GIVING SERVICE</td><td>14HRS ‚Äì 17HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-08-08</td><td>PAMI ANNIVERSARY</td><td>Anniversary Celebration</td><td>14HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-08-23</td><td>PEDAHZUR SUPPORT TEAM</td><td>Support Meeting</td><td>14:00HRS</td><td>PAMI CHURCH</td></tr>
<tr><td>2026-10-18</td><td>NATIONAL PRAYER DAY</td><td>ZOOM PROPHETIC SERVICE</td><td>21:30HRS</td><td>ZOOM</td></tr>
<tr><td>2026-10-24</td><td>INDEPENDENCE DAY</td><td>ZOOM PROPHETIC SERVICE</td><td>21:30HRS</td><td>ZOOM</td></tr>
<tr><td>2026-12-25</td><td>CHRISTMAS DAY</td><td>CHRISTMAS CELEBRATION</td><td>14HRS</td><td>AS DIRECTED</td></tr>
<tr><td>2026-12-31</td><td>NEW YEARS EVE</td><td>CROSSOVER NIGHT</td><td>20HRS ‚Äì 04HRS</td><td>PAMI CHURCH</td></tr>
</tbody>
</table>
</div>

<!-- Sunday Programs -->
<div id="sundayContent" style="display:none">
<h2>Morning Worship Service</h2>
<p class="service-time">09:00 ‚Äì 12:30</p>
<table>
<tr><th>Time</th><th>Program</th></tr>
<tr data-start="09:00" data-end="09:15"><td>09:00 ‚Äì 09:15</td><td>Opening Prayer</td></tr>
<tr data-start="09:15" data-end="09:45"><td>09:15 ‚Äì 09:45</td><td>Praise & Worship</td></tr>
<tr data-start="09:45" data-end="10:05"><td>09:45 ‚Äì 10:05</td><td>Scripture & Intercession</td></tr>
<tr data-start="10:05" data-end="10:25"><td>10:05 ‚Äì 10:25</td><td>Testimonies</td></tr>
<tr data-start="10:25" data-end="10:45"><td>10:25 ‚Äì 10:45</td><td>Choir Ministration and Presentations</td></tr>
<tr data-start="10:45" data-end="11:00"><td>10:45 ‚Äì 11:00</td><td>Offering & Tithes</td></tr>
<tr data-start="11:00" data-end="12:00"><td>11:00 ‚Äì 12:00</td><td>Sermon</td></tr>
<tr data-start="12:00" data-end="12:30"><td>12:00 ‚Äì 12:30</td><td>Closing Prayers</td></tr>
</table>

<h2>Afternoon Prophetic Service</h2>
<p class="service-time">15:00 ‚Äì 18:30</p>
<table>
<tr><th>Time</th><th>Program</th></tr>
<tr data-start="15:00" data-end="15:45"><td>15:00 ‚Äì 15:45</td><td>Opening Prayer</td></tr>
<tr data-start="15:45" data-end="16:15"><td>15:45 ‚Äì 16:15</td><td>Worship</td></tr>
<tr data-start="16:15" data-end="16:30"><td>16:15 ‚Äì 16:30</td><td>Prophetic Scriptures and Prayer</td></tr>
<tr data-start="16:30" data-end="17:10"><td>16:30 ‚Äì 17:10</td><td>Offering then Ministration</td></tr>
<tr data-start="17:10" data-end="18:00"><td>17:10 ‚Äì 18:00</td><td>Healing and Deliverance</td></tr>
<tr data-start="18:00" data-end="18:30"><td>18:00 ‚Äì 18:30</td><td>Mass Prayer and Final Blessing</td></tr>
</table>
</div>

<footer>
Phone: 0979554970 | Email: pedahzurministries@gmail.com<br>
¬© <span id="year"></span> Jesus Christ Redeems Global Ministries
</footer>

<audio id="alertSound">
<source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>
<audio id="scriptureSound">
<source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg">
</audio>

<script>
if('serviceWorker' in navigator){navigator.serviceWorker.register('service-worker.js');}

const day=new Date().getDay();
const isSunday=day===0;
document.getElementById("serviceDate").innerText="Today: "+new Date().toDateString();
document.getElementById("year").innerText=new Date().getFullYear();

function toggleProjector(){document.documentElement.classList.toggle("projector");}

// Show Sections
function showMembership(){document.getElementById('membershipContent').style.display='block';document.getElementById('membershipContent').scrollIntoView({behavior:'smooth'});}
function showTithes(){document.getElementById('tithesContent').style.display='block';document.getElementById('tithesContent').scrollIntoView({behavior:'smooth'});}
function showCalendar(){document.getElementById('calendarContent').style.display='block';document.getElementById('calendarContent').scrollIntoView({behavior:'smooth'});}

// Membership WhatsApp
function sendMembership(){
  const name=document.getElementById('memberName').value;
  const phone=document.getElementById('memberPhone').value;
  const residence=document.getElementById('memberResidence').value;
  const nrc=document.getElementById('memberNRC').value;
  const email=document.getElementById('memberEmail').value;
  const msg=`Membership Registration\nName: ${name}\nPhone: ${phone}\nResidence: ${residence}\nNRC: ${nrc||'Not Provided'}\nEmail: ${email}\nNote: Please attach a passport-sized photo.`;
  const url=`https://wa.me/260979554970?text=${encodeURIComponent(msg)}`;
  window.open(url,'_blank');
}

// Sunday Timer
function parseTime(t){const [h,m]=t.split(":"); const d=new Date(); return new Date(d.getFullYear(),d.getMonth(),d.getDate(),h,m,0);}
function format(sec){const d=Math.floor(sec/86400); const h=Math.floor((sec%86400)/3600); const m=Math.floor((sec%3600)/60); const s=sec%60; return `${d}d ${h}h ${m}m ${s}s`;}

let lastActive = "";
let scripturePlayed = false;

function nextSunday(){const d=new Date(); d.setDate(d.getDate()+((7-d.getDay())%7||7)); d.setHours(9,0,0,0); return d;}

function update(){
  const now=new Date();
  if(!isSunday){
    document.getElementById("sundayContent").style.display="none";
    document.getElementById("timerBox").innerHTML=`üìñ Scripture<br>‚è≥ Countdown to Sunday: <span>${format(Math.floor((nextSunday()-now)/1000))}</span>`;
    if(!scripturePlayed){document.getElementById("scriptureSound").play(); scripturePlayed=true;}
    return;
  }

  document.getElementById("sundayContent").style.display="block";
  const rows=document.querySelectorAll("tr[data-start]");
  let activeFound=false;
  rows.forEach(r=>r.classList.remove("current-program","next-program"));
  for(let i=0;i<rows.length;i++){
    const s=parseTime(rows[i].dataset.start);
    const e=parseTime(rows[i].dataset.end);
    if(now>=s && now<e){
      rows[i].classList.add("current-program");
      if(i+1<rows.length) rows[i+1].classList.add("next-program");
      const nextText=i+1<rows.length ? rows[i+1].children[1].innerText : "End of Service";
      const remainingSec=Math.floor((e-now)/1000);
      const remMin=Math.floor(remainingSec/60);
      const remSec=remainingSec%60;
      document.getElementById("timerBox").innerHTML=`üïí NOW: <span>${rows[i].children[1].innerText}</span><br>‚è≥ Remaining: <span>${remMin}m ${remSec}s</span><br>‚û° NEXT: <span>${nextText}</span>`;
      if(lastActive!==rows[i].children[1].innerText){document.getElementById("alertSound").play(); lastActive=rows[i].children[1].innerText;}
      activeFound=true; break;
    }
  }
  if(!activeFound){
    const morning=parseTime("09:00");
    const afternoon=parseTime("15:00");
    const evening=parseTime("18:30");
    if(now<morning){document.getElementById("timerBox").innerHTML=`‚è≥ Morning Service starts at 09:00hrs`;}
    else if(now>=morning && now<afternoon){document.getElementById("timerBox").innerHTML=`‚úÖ Morning Service Ended. Afternoon starts at 15:00hrs`;}
    else if(now>=afternoon && now<evening){document.getElementById("timerBox").innerHTML=`‚úÖ Afternoon Service Ongoing`;}
    else{document.getElementById("timerBox").innerHTML=`‚úÖ All services for today have ended<br>üôè Thank you for worshipping with us`;}
  }
}

setInterval(update,1000);
update();
</script>
</body>
</html>
