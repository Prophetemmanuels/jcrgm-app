<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Jesus Christ Redeems Global Ministries | Service Timer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<meta name="theme-color" content="#1f3c88">

<style>
body { font-family: "Segoe UI", Arial, sans-serif; background-color: #f4f6f8; margin:0; color:#333; }
header { background: linear-gradient(90deg,#1f3c88,#2c3e50); color:#fff; padding:30px 20px; text-align:center; }
button { padding:10px 18px; border:none; background:#1f3c88; color:#fff; cursor:pointer; border-radius:4px; margin:6px; }
button:hover {opacity:0.9;}
.container {max-width:1000px; margin:30px auto; background:#fff; padding:30px; box-shadow:0 0 12px rgba(0,0,0,0.1);}
.timer-box {background:#1f3c88; color:#fff; padding:25px; font-size:26px; text-align:center; border-radius:6px; margin-bottom:30px;}
.timer-box span {color:#ffd700; font-weight:bold;}
table {width:100%; border-collapse:collapse; margin-bottom:30px;}
th, td {border:1px solid #ddd; padding:12px;}
th {background:#ecf0f1;}
.current-program {background:#fff3cd !important; font-weight:bold; border-left:6px solid #e67e22;}
.next-program {background:#d1ecf1 !important; font-weight:bold; border-left:6px solid #17a2b8;}
footer {background:#2c3e50; color:#fff; text-align:center; padding:15px;}
.projector header, .projector footer, .projector h2, .projector .service-time {display:none;}
.projector .timer-box, .projector table {font-size:28px;}
</style>
</head>

<body>
<header>
<h1>Jesus Christ Redeems Global Ministries</h1>
<p id="serviceDate"></p>
<button onclick="toggleProjector()">Toggle Projector Mode</button>
</header>

<div class="container">
<div class="timer-box" id="timerBox">Loading‚Ä¶</div>

<!-- MORNING SERVICE -->
<h2>Morning Worship Service</h2>
<p class="service-time">09:00 ‚Äì 12:30</p>
<table>
<tr><th>Time</th><th>Program</th></tr>
<tr data-start="09:00" data-end="09:15"><td>09:00 ‚Äì 09:15</td><td>Opening Prayer</td></tr>
<tr data-start="09:15" data-end="09:45"><td>09:15 ‚Äì 09:45</td><td>Praise & Worship</td></tr>
<tr data-start="09:45" data-end="10:05"><td>09:45 ‚Äì 10:05</td><td>Scripture & Intercession</td></tr>
<tr data-start="10:05" data-end="10:25"><td>10:05 ‚Äì 10:25</td><td>Testimonies</td></tr>
<tr data-start="10:25" data-end="10:45"><td>10:25 ‚Äì 10:45</td><td>Choir Ministration and Presentations</td></tr>
<tr data-start="10:45" data-end="11:00"><td>10:45 ‚Äì 11:00</td><td>Offering & Tithes</td></tr>
<tr data-start="11:00" data-end="12:00"><td>11:00 ‚Äì 12:00</td><td>Sermon</td></tr>
<tr data-start="12:00" data-end="12:30"><td>12:00 ‚Äì 12:30</td><td>Closing Prayers</td></tr>
</table>

<!-- AFTERNOON SERVICE -->
<h2>Afternoon Prophetic Service</h2>
<p class="service-time">15:00 ‚Äì 18:30</p>
<table>
<tr><th>Time</th><th>Program</th></tr>
<tr data-start="15:00" data-end="15:45"><td>15:00 ‚Äì 15:45</td><td>Opening Prayer</td></tr>
<tr data-start="15:45" data-end="16:15"><td>15:45 ‚Äì 16:15</td><td>Praise and Worship</td></tr>
<tr data-start="16:15" data-end="16:30"><td>16:15 ‚Äì 16:30</td><td>Prophetic Scriptures & Prayer</td></tr>
<tr data-start="16:30" data-end="17:10"><td>16:30 ‚Äì 17:10</td><td>Offering & Ministration</td></tr>
<tr data-start="17:10" data-end="18:00"><td>17:10 ‚Äì 18:00</td><td>Healing & Deliverance</td></tr>
<tr data-start="18:00" data-end="18:30"><td>18:00 ‚Äì 18:30</td><td>Mass Prayer and Final Blessing</td></tr>
</table>

</div>

<footer>
¬© <span id="year"></span> Jesus Christ Redeems Global Ministries
</footer>

<script>
document.getElementById("serviceDate").innerText =
  "Today: " + new Date().toDateString();
document.getElementById("year").innerText =
  new Date().getFullYear();

function toggleProjector(){
  document.documentElement.classList.toggle("projector");
}

function parseTime(t){
  const [h,m] = t.split(":");
  const d = new Date();
  return new Date(d.getFullYear(), d.getMonth(), d.getDate(), h, m, 0);
}

function update(){
  const now = new Date();
  const rows = document.querySelectorAll("tr[data-start]");
  rows.forEach(r => r.classList.remove("current-program","next-program"));

  for(let i=0;i<rows.length;i++){
    const s = parseTime(rows[i].dataset.start);
    const e = parseTime(rows[i].dataset.end);

    if(now >= s && now < e){
      const totalSeconds = Math.floor((e - now) / 1000);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;

      rows[i].classList.add("current-program");
      if(i+1 < rows.length) rows[i+1].classList.add("next-program");

      document.getElementById("timerBox").innerHTML =
        `üïí NOW: <span>${rows[i].children[1].innerText}</span><br>
         ‚è≥ Remaining: <span>${minutes}m ${seconds}s</span><br>
         ‚û° NEXT: <span>${i+1 < rows.length ? rows[i+1].children[1].innerText : "End of Service"}</span>`;
      return;
    }
  }

  document.getElementById("timerBox").innerHTML =
    `üôè No active service right now`;
}

setInterval(update,1000);
update();
</script>
</body>
</html>
